<div class="flex flex-col items-start min-h-[176px] overflow-hidden bg-white border border-gray-100 rounded-xl shadow-sm">
  <div class="flex flex-col w-full gap-3 pt-4 pb-4 pl-5 pr-4 border-l-4 <%= item_highlight_class(item) %>">

    <%# アイテム名 %>
    <div class="flex items-start justify-between">
      <h3 class="font-sans text-lg font-medium leading-7 text-neutral-950"><%= item.name %></h3>
    </div>

    <%# 詳細情報 %>
    <div class="flex flex-col gap-2">
      <%# カテゴリー %>
      <div class="flex items-center gap-2">
        <%= image_tag 'tag_icon.png', size: '16x16', class: 'object-contain', alt: 'カテゴリー' %>
        <span class="font-sans text-sm font-normal text-gray-600">
          <%= item.category&.name || "未分類" %>
        </span>
      </div>

      <%# ストック数 %>
      <div class="flex items-center justify-between h-14 gap-2 px-3 bg-gray-50 rounded-lg">
        <div class="flex items-center gap-2 shrink-0">
          <%= image_tag 'stock_icon.png', size: '20x20', class: 'object-contain', alt: '在庫' %>
          <span class="font-sans text-lg font-bold text-gray-700">
            <%= display_quantity(item.quantity) %>
          </span>
        </div>

        <div class="flex items-center gap-1">
          <%= button_to item_stock_adjustments_path(item, stock_adjustment: { amount: 1, reason: "purchase" }), method: :post, class: "flex items-center h-8 gap-1 px-3 font-sans text-sm font-medium text-white bg-green-500 border-none rounded-lg shadow-sm cursor-pointer transition-transform active:scale-95" do %>
            <%= image_tag 'edit_icon.png', size: '16x16', class: 'object-contain', alt: '編集' %>
            <span>変更</span>
          <% end %>
        </div>
      </div>

      <%# 賞味期限 %>
      <div class="flex items-center gap-2">
        <%= image_tag 'expiration_date_icon.png', size: '16x16', class: 'object-contain', alt: '期限' %>
        <span class="font-sans text-sm <%= expiration_date_class(item) %>"><%= item.expiration_date.strftime("%Y-%m-%d") %></span>
      </div>
    </div>
  </div>
</div>

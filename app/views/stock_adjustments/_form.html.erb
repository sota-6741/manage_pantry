<%= form_with(scope: :stock_adjustment, url: item_stock_adjustments_path(item), method: :post) do |f| %>

  <%# エラーメッセージ表示 %>
  <% if local_assigns.has_key?(:error_message) && error_message.present? %>
    <div style="color: red; margin-bottom: 10px;">
      <strong><%= t("views.stock_adjustments.form.error_prefix") %></strong> <%= error_message %>
    </div>
  <% end %>

  <%# 理由選択 %>
  <div style="margin-bottom: 12px;">
    <%= f.radio_button :reason, 'purchase', checked: true %>
    <%= f.label :reason_purchase, t("activerecord.attributes.inventory_log.reasons.purchase") %>

    <%= f.radio_button :reason, 'consume' %>
    <%= f.label :reason_consume, t("activerecord.attributes.inventory_log.reasons.consume") %>

    <%= f.radio_button :reason, 'dispose' %>
    <%= f.label :reason_dispose, t("activerecord.attributes.inventory_log.reasons.dispose") %>
  </div>

  <%# 数量入力 %>
  <div style="margin-bottom: 12px;">
    <%= f.label :amount, t("views.stock_adjustments.form.amount") %>
    <%= f.number_field :amount, value: 1, style: "width: 60px;" %>
  </div>

  <%# アクションボタン %>
  <div>
    <%= f.submit t("views.common.save") %>
    <%= link_to t("views.common.cancel"), stock_item_path(item), data: { turbo_frame: dom_id(item, :adjustment) } %>
  </div>
<% end %>